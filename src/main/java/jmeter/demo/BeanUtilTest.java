package jmeter.demo;import org.apache.jmeter.config.Arguments;import org.apache.jmeter.protocol.java.sampler.AbstractJavaSamplerClient;import org.apache.jmeter.protocol.java.sampler.JavaSamplerContext;import org.apache.jmeter.samplers.SampleResult;import org.apache.log4j.Logger;import java.io.Serializable;import java.util.ArrayList;import java.util.List;/** * @program: jmeter-test * @description: Jmeter java请求扩展示例 * @author: gonghuihui * @create: 2019-04-15 19:59 **/public class BeanUtilTest extends AbstractJavaSamplerClient implements Serializable {    private static final long serialVersionUID = 1L;    private static final Logger logger = Logger.getLogger(BeanUtilTest.class);    private BeanUtil bu;    private List<String> nsrsbhList = new ArrayList<String>();    @Override    // Java Sampler 界面中展示用来指导用户输入变量    public Arguments getDefaultParameters() {        Arguments arguments = new Arguments();        // 可以在 java 请求的参数列表中看到        arguments.addArgument("i","i.value");        return arguments;    }    @Override    // 预备工作    public void setupTest(JavaSamplerContext context) {        bu = new BeanShellEg("road","shanghai");    }    // 执行工作    public SampleResult runTest(JavaSamplerContext context) {        // 获取用户输入的变量值        int i = Integer.valueOf(context.getParameter("i"));        // 实例化SampleResult,用来记录运行结果        SampleResult sr = new SampleResult();        // 定义事务开始        sr.sampleStart();        int mul = bu.mul(i);        // 设置事务结束        sr.sampleEnd();        // 设置事务成功        sr.setSuccessful(true);        // 设置java请求标题        sr.setSampleLabel("mul");        // 设置响应成功        sr.setResponseCodeOK();        // 设置响应内容        sr.setResponseData("mul result :" + String.valueOf(mul),"utf-8");        return sr;    }    @Override    // 善后工作    public void teardownTest(JavaSamplerContext context) {    }}